diff --git a/bazel/cc_wrapper.py b/bazel/cc_wrapper.py
index c4883edd0..5bd4ec547 100755
--- a/bazel/cc_wrapper.py
+++ b/bazel/cc_wrapper.py
@@ -118,7 +118,11 @@ def main():
     # when Bazel 0.27 is released.
     compiler, new_args = modify_driver_args(sys.argv[1:])
 
-  os.execv(compiler, [compiler] + new_args)
+  selfrando_flags = ['-ffunction-sections', '-fPIC', '-w', '-B/selfrando/out/x86_64/bin/trapdump', 
+                     '-Wl,-rpath,/selfrando/out/x86_64/bin/trapdump', '-Wl,--gc-section', '-fuse-ld=bfd',
+                     ]
+
+  os.execv(compiler, [compiler] + new_args + selfrando_flags)
 
 
 if __name__ == "__main__":
